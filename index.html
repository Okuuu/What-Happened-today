<html>

<head>
    <title>What happened today ?</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="index.css">
    <!-- VueJS -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- Axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- Materialize Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Materialize Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script src="https://unpkg.com/wnumb@1.1.0"></script>

    <script src="https://unpkg.com/nouislider@10.0.0/distribute/nouislider.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/nouislider@10.0.0/distribute/nouislider.min.css">
</head>

<body>
    <div class="navbar-fixed">

        <nav id="header">
            <div class="nav-wrapper">
                <span class="brand-logo" v-bind:title="title">What happened on the {{title}} ?</span>
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li>
                        <a href="#events">See the events</a>
                    </li>
                    <li>
                        <a href="#births">See the births</a>
                    </li>
                    <li>
                        <a href="#deaths">See the deaths</a>
                    </li>
                    <li>
                        <input v-model="inputDate" type="date">
                        <!-- TODO: Use https://materializecss.com/pickers.html to update to a better version,
                            but it doesn't seem to work, but this would allow a better UI, and the ability to
                            choose the format to display-->
                    </li>
                    <li>
                        <button v-on:click="changeDate(inputDate)" class="waves-effect waves-light btn">
                            Change date !
                        </button>
                    </li>
                </ul>

            </div>
        </nav>
    </div>


    <div id="data">
        <div id="events">

            <h2> Events : </h2>

            <div v-if="length > 1">
                There are {{length}} events in the database
            </div>
            <div v-else-if="length === 1">
                There is {{length}} event in the database
            </div>
            <div v-else-if="length === 0">
                There are no events in the database
            </div>

            <div style="width: 95%;" id="sliderEvent" class="slider"></div>

            <ul class="collection">
                <li v-for="event in info" class="collection-item" v-if="event.wikipedia[0]">
                    <strong>
                        {{event.year}}
                    </strong>
                    -
                    {{event.description}}
                </li>
            </ul>
        </div>

        <div id="births">
            <h2> Births : </h2>

            <div v-if="length > 1">
                There are {{length}} births in the database
            </div>
            <div v-else-if="length === 1">
                There is {{length}} birth in the database
            </div>
            <div v-else-if="length === 0">
                There are no births in the database
            </div>

            <div style="width: 95%;" id="sliderBirths" class="slider"></div>


            <ul class="collection">
                <li v-for="birth in info" class="collection-item">
                    <a v-bind:href="birth.wikipedia[0].wikipedia" v-if="birth.wikipedia[0]" target="_blank">
                        <strong>
                            {{ birth.year }}
                        </strong>
                        -
                        {{ birth.description }}
                    </a>
                </li>
            </ul>
        </div>

        <div id="deaths">
            <h2> Deaths : </h2>

            <div v-if="length > 1">
                There are {{length}} deaths in the database
            </div>
            <div v-else-if="length === 1">
                There is {{length}} death in the database
            </div>
            <div v-else-if="length === 0">
                There are no deaths in the database
            </div>

            <div style="width: 95%;" id="sliderDeaths" class="slider"></div>


            <ul class="collection">
                <li v-for="death in info" class="collection-item">
                    <a v-bind:href="death.wikipedia[0].wikipedia" v-if="death.wikipedia[0]" target="_blank">
                        <strong>
                            {{ death.year }}
                        </strong>
                        -
                        {{ death.description }}
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <script src="index.js"></script>
</body>

</html>